<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<bean name="trustFactory"
		class="eu.aniketos.wp2.components.trustworthiness.impl.trust.management.TrustFactoryImpl">
	</bean>

	<bean name="trustUpdate"
		class="eu.aniketos.wp2.components.trustworthiness.impl.trust.management.atomic.ServiceTrustUpdateImpl">
	</bean>

	<bean name="trustUpdatePolicyRecursive"
		class="eu.aniketos.wp2.components.trustworthiness.impl.trust.management.atomic.ServiceTrustUpdateRecursiveImpl"
		init-method="initialize">
		<property name="config" ref="configService"></property>
		<property name="serviceEntityService" ref="serviceEntityService"></property>
		<property name="ratingEntityService" ref="ratingEntityService"></property>
		<property name="qosEntityService" ref="qosEntityService"></property>
		<property name="securityEntityService" ref="securityEntityService"></property>
		<property name="eventAdmin" ref="eventAdminService"/>
	</bean>
	
	<bean name="trustUpdatePolicyMovingAvg"
		class="eu.aniketos.wp2.components.trustworthiness.impl.trust.management.atomic.ServiceTrustUpdateMovingAvgImpl"
		init-method="initialize">
		<property name="config" ref="configService"></property>
		<property name="serviceEntityService" ref="serviceEntityService"></property>
		<property name="ratingEntityService" ref="ratingEntityService"></property>
		<property name="qosEntityService" ref="qosEntityService"></property>
		<property name="securityEntityService" ref="securityEntityService"></property>
		<property name="eventAdmin" ref="eventAdminService"/>
	</bean>

	<bean name="compositeUpdate"
		class="eu.aniketos.wp2.components.trustworthiness.impl.trust.management.composite.CompositeTrustUpdateImpl">
		<property name="serviceEntityService" ref="serviceEntityService"></property>
		<property name="trustUpdate" ref="trustUpdatePolicyRecursive"></property>
		<property name="eventAdmin" ref="eventAdminService"/>
		<property name="config" ref="configService"></property>
	</bean>
	
	<!-- <bean name="compositeManager"
		class="eu.aniketos.wp2.components.trustworthiness.impl.trust.management.composite.CompositeServiceManager">
		<property name="compositeService" ref="compositeService"></property>
		<property name="serviceEntityService" ref="serviceEntityService"></property>
	</bean> -->
	
	<bean name="trustworthinessPredictionService"
		class="eu.aniketos.wp2.components.trustworthiness.impl.messaging.TrustworthinessPredictionServiceImpl">
		<property name="serviceEntityService" ref="serviceEntityService"></property>
		<property name="trustUpdate" ref="trustUpdatePolicyRecursive"></property>
		<property name="csTrustUpdate" ref="compositeUpdate"></property>
	</bean>
	
	<bean name="compositeTrustworthinessPredictionService"
		class="eu.aniketos.wp2.components.trustworthiness.impl.messaging.CompositeTrustworthinessPredictionServiceImpl">
		<property name="serviceEntityService" ref="serviceEntityService"></property>
		<property name="tFactory" ref="trustFactory"></property>
		<property name="csTrustUpdate" ref="compositeUpdate"></property>
	</bean>
	
	<bean id="eventHandler"
		class="eu.aniketos.wp2.components.trustworthiness.impl.messaging.TrustworthinessEventHandler"
		><property name="trustUpdate" ref="trustUpdatePolicyRecursive"></property>
		
	</bean>

	<bean id="status"
		class="eu.aniketos.wp2.components.trustworthiness.impl.messaging.service.StatusServiceImpl"
		init-method="initialize" />
</beans>
